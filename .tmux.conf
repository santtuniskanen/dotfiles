# Rosé Pine Dawn tmux theme
# Save this as ~/.tmux.conf or ~/.config/tmux/tmux.conf

# Set true color support
set-option -sa terminal-overrides ",xterm*:Tc"

# Rosé Pine Dawn colors
base="#faf4ed"
surface="#fffaf3"
overlay="#f2e9e1"
muted="#9893a5"
subtle="#797593"
text="#575279"
love="#b4637a"
gold="#ea9d34"
rose="#d7827e"
pine="#286983"
foam="#56949f"
iris="#907aa9"
highlight_low="#f4ede8"
highlight_med="#dfdad9"
highlight_high="#cecacd"

# Status bar
set-option -g status on
set-option -g status-interval 1
set-option -g status-justify left
set-option -g status-position bottom
set-option -g status-style "fg=$text,bg=$surface"

# Status left
set-option -g status-left-length 100
set-option -g status-left "#[fg=$base,bg=$iris,bold] #S #[fg=$iris,bg=$surface,nobold]"

# Status right
set-option -g status-right-length 100
set-option -g status-right "#[fg=$muted,bg=$surface] %Y-%m-%d #[fg=$subtle,bg=$surface]#[fg=$overlay,bg=$surface]#[fg=$text,bg=$overlay] %H:%M #[fg=$iris,bg=$overlay]#[fg=$base,bg=$iris,bold] #H "

# Window status
set-option -g window-status-style "fg=$subtle,bg=$surface"
set-option -g window-status-format " #I:#W "

set-option -g window-status-current-style "fg=$base,bg=$rose,bold"
set-option -g window-status-current-format "#[fg=$surface,bg=$rose]#[fg=$base,bg=$rose,bold] #I:#W #[fg=$rose,bg=$surface,nobold]"

set-option -g window-status-activity-style "fg=$gold,bg=$surface"
set-option -g window-status-bell-style "fg=$love,bg=$surface"

# Pane borders
set-option -g pane-border-style "fg=$overlay"
set-option -g pane-active-border-style "fg=$iris"

# Message style
set-option -g message-style "fg=$text,bg=$overlay"
set-option -g message-command-style "fg=$text,bg=$overlay"

# Pane number display
set-option -g display-panes-active-colour "$iris"
set-option -g display-panes-colour "$muted"

# Clock mode
set-option -g clock-mode-colour "$iris"
set-option -g clock-mode-style 24

# Copy mode
set-option -g mode-style "fg=$base,bg=$iris"

# Bell
set-option -g window-status-bell-style "fg=$love,bg=$surface,bold"

# ===== General Settings =====

# Change prefix to Ctrl-Space
unbind C-b
set-option -g prefix C-Space
bind C-a send-prefix

# Start windows and panes at 1, not 0
set -g base-index 1
set -g pane-base-index 1
set-window-option -g pane-base-index 1
set-option -g renumber-windows on

# Enable mouse support
set -g mouse on

# Set vi mode
set-window-option -g mode-keys vi

# Vim-like pane switching
bind -r ^ last-window
bind -r k select-pane -U
bind -r j select-pane -D
bind -r h select-pane -L
bind -r l select-pane -R

# Split panes using | and -
bind | split-window -h -c "#{pane_current_path}"
bind - split-window -v -c "#{pane_current_path}"
unbind '"'
unbind %

# Reload config
bind r source-file ~/.tmux.conf \; display-message "Config reloaded!"

# Don't exit copy mode when selecting with mouse
unbind -T copy-mode-vi MouseDragEnd1Pane

# Copy mode vim bindings
bind-key -T copy-mode-vi v send-keys -X begin-selection
bind-key -T copy-mode-vi C-v send-keys -X rectangle-toggle
bind-key -T copy-mode-vi y send-keys -X copy-selection-and-cancel

# Increase scrollback buffer size
set-option -g history-limit 10000

# Reduce escape time
set-option -sg escape-time 10

# Focus events for vim
set-option -g focus-events on
